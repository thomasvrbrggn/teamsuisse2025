<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eurovisiesongfestival 2025 Pronostiek - VRT Team</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        :root {
            --eurovision-blue: #030b27;
            --eurovision-light: #f8f9fa;
            --eurovision-accent: #20df9e;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f2f5;
        }
        
        .navbar {
            background-color: var(--eurovision-blue);
        }
        
        .header-banner {
            background: linear-gradient(rgba(3, 11, 39, 0.7), rgba(3, 11, 39, 0.9)), 
                        url('https://eurovision.tv/sites/default/files/styles/hp_banner/public/media/image/2024-08/Drohne%20Rhein%20M%C3%BCnster_DJI_0517.jpg');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 80px 0;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .btn-primary {
            background-color: var(--eurovision-blue);
            border-color: var(--eurovision-blue);
        }
        
        .btn-primary:hover {
            background-color: #0d1b4d;
            border-color: #0d1b4d;
        }
        
        .btn-success {
            background-color: var(--eurovision-accent);
            border-color: var(--eurovision-accent);
        }
        
        .card {
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-img-top {
            height: 200px;
            object-fit: cover;
        }
        
        .country-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--eurovision-blue);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
        }
        
        .nav-pills .nav-link.active {
            background-color: var(--eurovision-blue);
        }
        
        .form-section {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }
        
        .selected-entry {
            background-color: var(--eurovision-light);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-dialog {
            max-width: 800px;
        }
        
        .youtube-embed {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 ratio */
            height: 0;
            overflow: hidden;
        }
        
        .youtube-embed iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--eurovision-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .password-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            text-align: center;
        }
        
        .results-table {
            width: 100%;
            margin-top: 20px;
        }
        
        .results-table th {
            background-color: var(--eurovision-blue);
            color: white;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .header-banner {
                padding: 40px 0;
            }
            
            .card-img-top {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Password Protection -->
    <div class="password-screen" id="passwordScreen">
        <div class="password-container">
            <h2 class="mb-4">VRT Team Pronostiek</h2>
            <p class="mb-4">Voer het wachtwoord in om toegang te krijgen tot de Eurovisiesongfestival 2025 pronostiek.</p>
            <div class="mb-3">
                <input type="password" class="form-control" id="passwordInput" placeholder="Wachtwoord">
            </div>
            <button class="btn btn-primary" id="submitPassword">Inloggen</button>
            <p class="text-danger mt-3 hidden" id="passwordError">Onjuist wachtwoord. Probeer opnieuw.</p>
        </div>
    </div>

    <!-- Main Content (hidden until password entered) -->
    <div id="mainContent" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="#">VRT Team Eurovisie 2025</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#deelnemers">Deelnemers</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#pronostiek">Mijn Pronostiek</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#resultaten">Resultaten</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <header class="header-banner">
            <div class="container">
                <h1>Eurovisiesongfestival 2025</h1>
                <h2>Basel, Zwitserland</h2>
                <p class="lead">VRT Team Pronostiek</p>
            </div>
        </header>

        <div class="container mb-5">
            <section id="deelnemers" class="mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Deelnemers</h2>
                    <div class="input-group w-50">
                        <input type="text" class="form-control" id="searchInput" placeholder="Zoek op land, artiest of lied...">
                        <button class="btn btn-primary" type="button">
                            <i class="bi bi-search"></i> Zoeken
                        </button>
                    </div>
                </div>

                <ul class="nav nav-pills mb-4" id="participantTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="all-tab" data-bs-toggle="pill" data-bs-target="#all" type="button" role="tab">
                            Alle deelnemers
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="semi1-tab" data-bs-toggle="pill" data-bs-target="#semi1" type="button" role="tab">
                            Eerste halve finale
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="semi2-tab" data-bs-toggle="pill" data-bs-target="#semi2" type="button" role="tab">
                            Tweede halve finale
                        </button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="final-tab" data-bs-toggle="pill" data-bs-target="#final" type="button" role="tab">
                            Finale
                        </button>
                    </li>
                </ul>

                <div class="tab-content" id="participantTabContent">
                    <!-- Alle deelnemers -->
                    <div class="tab-pane fade show active" id="all" role="tabpanel">
                        <div class="row" id="allParticipants">
                            <!-- Wordt dynamisch gevuld door JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Eerste halve finale -->
                    <div class="tab-pane fade" id="semi1" role="tabpanel">
                        <div class="row" id="semi1Participants">
                            <!-- Wordt dynamisch gevuld door JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Tweede halve finale -->
                    <div class="tab-pane fade" id="semi2" role="tabpanel">
                        <div class="row" id="semi2Participants">
                            <!-- Wordt dynamisch gevuld door JavaScript -->
                        </div>
                    </div>
                    
                    <!-- Finale -->
                    <div class="tab-pane fade" id="final" role="tabpanel">
                        <div class="row" id="finalParticipants">
                            <!-- Wordt dynamisch gevuld door JavaScript -->
                        </div>
                    </div>
                </div>
            </section>

            <section id="pronostiek" class="form-section">
                <h2 class="mb-4">Mijn Pronostiek</h2>
                <form id="pronostiekForm">
                    <div class="mb-3">
                        <label for="naam" class="form-label">Naam</label>
                        <input type="text" class="form-control" id="naam" required>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">E-mail</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label">Jouw Top 5</label>
                        <p class="text-muted">Kies 5 landen en sleep ze in je voorspelde volgorde</p>
                        
                        <div id="selectedEntries" class="mb-3">
                            <div class="alert alert-info">Klik op landen in de lijst hierboven om ze toe te voegen aan je Top 5.</div>
                        </div>
                        
                        <div id="dragInstructions" class="alert alert-primary hidden">
                            Sleep de items om de volgorde aan te passen (1 = winnaar).
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" id="submitPronostiek">Opslaan</button>
                </form>
            </section>

            <section id="resultaten" class="form-section">
                <h2 class="mb-4">Team Resultaten</h2>
                <p>Hier kun je alle voorspellingen bekijken en de gezamenlijke teamvoorspelling zien.</p>
                
                <table class="table results-table">
                    <thead>
                        <tr>
                            <th>Positie</th>
                            <th>Land</th>
                            <th>Artiest</th>
                            <th>Lied</th>
                            <th>Punten</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Wordt dynamisch gevuld door JavaScript -->
                    </tbody>
                </table>
                
                <h3 class="mt-5 mb-3">Alle voorspellingen</h3>
                <div id="allPredictions">
                    <!-- Wordt dynamisch gevuld door JavaScript -->
                </div>
                
                <button class="btn btn-success mt-4" id="exportResults">Exporteren als CSV</button>
            </section>
        </div>

        <footer class="bg-dark text-white py-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h5>Eurovisiesongfestival 2025</h5>
                        <p>13, 15 en 17 mei 2025 - Basel, Zwitserland</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p>VRT Team Pronostiek</p>
                        <p class="mb-0">© 2025</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Participant Detail Modal -->
    <div class="modal fade" id="participantModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">Land - Artiest</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="youtube-embed mb-4">
                        <iframe id="youtubeEmbed" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h4 id="modalSongTitle">Liedje</h4>
                    <p id="modalDescription">Beschrijving van het liedje en de artiest...</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Sluiten</button>
                    <button type="button" class="btn btn-primary" id="addToTopFive">Toevoegen aan mijn Top 5</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SortableJS for drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <script>
        // Wachtwoordbeveiliging
        const correctPassword = "eurovisieteam2025"; // Verander dit naar het gewenste wachtwoord
        
        document.getElementById('submitPassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('passwordInput').value;
            
            if (passwordInput === correctPassword) {
                document.getElementById('passwordScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
            } else {
                document.getElementById('passwordError').classList.remove('hidden');
            }
        });
        
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('submitPassword').click();
            }
        });

        // Eurovision 2025 deelnemers data
        const participants = [
            {
                id: 1,
                country: "Albanië",
                artist: "Besa",
                song: "Titan",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/DSC_3336_V2.jpg",
                youtubeId: "WPZKaWYxKWI",
                semifinal: 0, // Directe finalist
                qualified: true,
                description: "Remember Monday vertegenwoordigt het Verenigd Koninkrijk met het energieke 'What The Hell Just Happened?', een country-pop nummer met Britse folk-invloeden."
            }
        ];

        // Constanten voor finalisten en halve finales
        const directFinalists = participants.filter(p => p.semifinal === 0);
        const firstSemiFinalList = [
            "Albanië", "Azerbeidzjan", "België", "Kroatië", "Cyprus", "Estland",
            "IJsland", "Nederland", "Noorwegen", "Polen", "Portugal", "San Marino",
            "Slovenië", "Zweden", "Oekraïne"
        ];
        const secondSemiFinalList = [
            "Armenië", "Australië", "Oostenrijk", "Tsjechië", "Denemarken", "Finland",
            "Georgië", "Griekenland", "Ierland", "Israël", "Letland", "Litouwen",
            "Luxemburg", "Malta", "Montenegro", "Servië"
        ];

        // Deelnemers sorteren op halve finale
        const firstSemiFinal = participants.filter(p => firstSemiFinalList.includes(p.country));
        const secondSemiFinal = participants.filter(p => secondSemiFinalList.includes(p.country));
        const finalParticipants = [...directFinalists]; // Later kunnen gekwalificeerde deelnemers worden toegevoegd

        // Pronostiek opslag
        let predictions = [];
        let selectedEntries = [];

        // DOM is geladen
        document.addEventListener('DOMContentLoaded', function() {
            // Vul de deelnemers in de tabbladen
            renderParticipants('allParticipants', participants);
            renderParticipants('semi1Participants', firstSemiFinal);
            renderParticipants('semi2Participants', secondSemiFinal);
            renderParticipants('finalParticipants', finalParticipants);

            // Zoekfunctionaliteit
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const filteredParticipants = participants.filter(p => 
                    p.country.toLowerCase().includes(searchTerm) || 
                    p.artist.toLowerCase().includes(searchTerm) || 
                    p.song.toLowerCase().includes(searchTerm)
                );
                renderParticipants('allParticipants', filteredParticipants);
            });

            // Initialiseer Sortable voor drag & drop
            const sortableList = document.getElementById('selectedEntries');
            new Sortable(sortableList, {
                animation: 150,
                ghostClass: 'bg-light',
                onEnd: function() {
                    updateSelectedEntries();
                }
            });

            // Formulier verzenden
            document.getElementById('pronostiekForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (selectedEntries.length !== 5) {
                    alert('Selecteer precies 5 landen voor je pronostiek!');
                    return;
                }
                
                const name = document.getElementById('naam').value;
                const email = document.getElementById('email').value;
                
                // Nieuwe voorspelling toevoegen
                const prediction = {
                    name,
                    email,
                    entries: [...selectedEntries]
                };
                
                predictions.push(prediction);
                
                // Sla de voorspellingen op in localStorage
                saveToLocalStorage();
                
                // Update resultaten tabel
                updateResults();
                
                // Reset het formulier
                this.reset();
                selectedEntries = [];
                document.getElementById('selectedEntries').innerHTML = '<div class="alert alert-info">Klik op landen in de lijst hierboven om ze toe te voegen aan je Top 5.</div>';
                document.getElementById('dragInstructions').classList.add('hidden');
                
                alert('Je pronostiek is opgeslagen!');
                
                // Scroll naar resultaten
                document.getElementById('resultaten').scrollIntoView({
                    behavior: 'smooth'
                });
            });

            // Export knop
            document.getElementById('exportResults').addEventListener('click', function() {
                exportToCSV();
            });

            // Laad opgeslagen voorspellingen
            loadFromLocalStorage();
            updateResults();
        });

        // Render deelnemers in tabbladen
        function renderParticipants(containerId, participantList) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            participantList.forEach(participant => {
                const card = document.createElement('div');
                card.className = 'col-md-6 col-lg-4 mb-4';
                card.innerHTML = `
                    <div class="card h-100" data-participant-id="${participant.id}">
                        <img src="${participant.image}" class="card-img-top" alt="${participant.country} - ${participant.artist}">
                        <span class="country-badge">${participant.country}</span>
                        <div class="card-body">
                            <h5 class="card-title">${participant.artist}</h5>
                            <p class="card-text">${participant.song}</p>
                            <button class="btn btn-primary view-details" data-bs-toggle="modal" data-bs-target="#participantModal" data-participant-id="${participant.id}">
                                Bekijk details
                            </button>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
            
            // Voeg event listeners toe aan de bekijk details knoppen
            const detailButtons = container.querySelectorAll('.view-details');
            detailButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const participantId = parseInt(this.getAttribute('data-participant-id'));
                    showParticipantDetails(participantId);
                });
            });
        }

        // Toon deelnemer details in modal
        function showParticipantDetails(participantId) {
            const participant = participants.find(p => p.id === participantId);
            
            document.getElementById('modalTitle').textContent = `${participant.country} - ${participant.artist}`;
            document.getElementById('modalSongTitle').textContent = participant.song;
            document.getElementById('modalDescription').textContent = participant.description;
            
            // Update YouTube embed
            const youtubeEmbed = document.getElementById('youtubeEmbed');
            youtubeEmbed.setAttribute('src', `https://www.youtube.com/embed/${participant.youtubeId}`);
            
            // Update de "Toevoegen aan Top 5" knop
            const addButton = document.getElementById('addToTopFive');
            const isSelected = selectedEntries.some(entry => entry.id === participant.id);
            
            if (isSelected) {
                addButton.textContent = 'Verwijderen uit Top 5';
                addButton.classList.remove('btn-primary');
                addButton.classList.add('btn-danger');
            } else {
                addButton.textContent = 'Toevoegen aan Top 5';
                addButton.classList.remove('btn-danger');
                addButton.classList.add('btn-primary');
            }
            
            // Voeg event listener toe aan de knop
            addButton.onclick = function() {
                if (isSelected) {
                    // Verwijder uit Top 5
                    selectedEntries = selectedEntries.filter(entry => entry.id !== participant.id);
                } else {
                    // Voeg toe aan Top 5
                    if (selectedEntries.length < 5) {
                        selectedEntries.push(participant);
                    } else {
                        alert('Je kunt maximaal 5 landen selecteren. Verwijder eerst een land om een nieuwe toe te voegen.');
                        return;
                    }
                }
                
                // Update de weergave
                updateSelectedEntries();
                
                // Sluit de modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('participantModal'));
                modal.hide();
            };
        }

        // Update de geselecteerde items in de Top 5
        function updateSelectedEntries() {
            const container = document.getElementById('selectedEntries');
            
            if (selectedEntries.length === 0) {
                container.innerHTML = '<div class="alert alert-info">Klik op landen in de lijst hierboven om ze toe te voegen aan je Top 5.</div>';
                document.getElementById('dragInstructions').classList.add('hidden');
                return;
            }
            
            document.getElementById('dragInstructions').classList.remove('hidden');
            
            // Haal huidige elementen op om volgorde te behouden
            const currentElements = Array.from(container.querySelectorAll('.selected-entry'));
            const currentIds = currentElements.map(el => parseInt(el.getAttribute('data-participant-id')));
            
            // Sorteer de geselecteerde entries op basis van de huidige DOM volgorde
            const sortedEntries = [];
            
            // Eerst voeg bestaande items toe in de juiste volgorde
            currentIds.forEach(id => {
                const entry = selectedEntries.find(e => e.id === id);
                if (entry) {
                    sortedEntries.push(entry);
                }
            });
            
            // Voeg nieuwe items toe aan het einde
            selectedEntries.forEach(entry => {
                if (!currentIds.includes(entry.id)) {
                    sortedEntries.push(entry);
                }
            });
            
            selectedEntries = sortedEntries;
            
            // Wis de container en vul opnieuw
            container.innerHTML = '';
            
            selectedEntries.forEach((entry, index) => {
                const entryElement = document.createElement('div');
                entryElement.className = 'selected-entry';
                entryElement.setAttribute('data-participant-id', entry.id);
                
                entryElement.innerHTML = `
                    <div>
                        <strong>${index + 1}. ${entry.country}</strong> - ${entry.artist} (${entry.song})
                    </div>
                    <button type="button" class="btn btn-sm btn-danger remove-entry" data-participant-id="${entry.id}">
                        <i class="bi bi-x"></i> Verwijderen
                    </button>
                `;
                
                container.appendChild(entryElement);
            });
            
            // Voeg event listeners toe aan verwijderknoppen
            const removeButtons = container.querySelectorAll('.remove-entry');
            removeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const participantId = parseInt(this.getAttribute('data-participant-id'));
                    selectedEntries = selectedEntries.filter(entry => entry.id !== participantId);
                    updateSelectedEntries();
                });
            });
        }

        // Update resultaten tabel
        function updateResults() {
            if (predictions.length === 0) {
                document.getElementById('resultsTableBody').innerHTML = '<tr><td colspan="5" class="text-center">Nog geen voorspellingen ingediend.</td></tr>';
                document.getElementById('allPredictions').innerHTML = '<div class="alert alert-info">Er zijn nog geen voorspellingen ingediend.</div>';
                return;
            }
            
            // Bereken punten voor elk land
            const countryPoints = {};
            participants.forEach(p => {
                countryPoints[p.country] = 0;
            });
            
            // Puntentelling: 12, 10, 8, 6, 4 punten
            const pointsScale = [12, 10, 8, 6, 4];
            
            predictions.forEach(prediction => {
                prediction.entries.forEach((entry, index) => {
                    countryPoints[entry.country] += pointsScale[index];
                });
            });
            
            // Sorteer landen op punten
            const sortedCountries = Object.entries(countryPoints)
                .filter(([_, points]) => points > 0)
                .sort((a, b) => b[1] - a[1])
                .map(([country, points]) => {
                    const participantInfo = participants.find(p => p.country === country);
                    return {
                        country,
                        points,
                        artist: participantInfo.artist,
                        song: participantInfo.song
                    };
                });
            
            // Vul de resultaten tabel
            const tableBody = document.getElementById('resultsTableBody');
            tableBody.innerHTML = '';
            
            if (sortedCountries.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="5" class="text-center">Nog geen punten toegekend.</td></tr>';
            } else {
                sortedCountries.forEach((result, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><strong>${index + 1}</strong></td>
                        <td>${result.country}</td>
                        <td>${result.artist}</td>
                        <td>${result.song}</td>
                        <td><strong>${result.points}</strong></td>
                    `;
                    tableBody.appendChild(row);
                });
            }
            
            // Toon alle voorspellingen
            const predictionsContainer = document.getElementById('allPredictions');
            predictionsContainer.innerHTML = '';
            
            predictions.forEach(prediction => {
                const predCard = document.createElement('div');
                predCard.className = 'card mb-3';
                
                let entriesHtml = '';
                prediction.entries.forEach((entry, index) => {
                    entriesHtml += `
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>${index + 1}. ${entry.country} - ${entry.artist}</span>
                            <span class="badge bg-primary rounded-pill">${pointsScale[index]} ptn</span>
                        </li>
                    `;
                });
                
                predCard.innerHTML = `
                    <div class="card-header">
                        <strong>${prediction.name}</strong> (${prediction.email})
                    </div>
                    <ul class="list-group list-group-flush">
                        ${entriesHtml}
                    </ul>
                `;
                
                predictionsContainer.appendChild(predCard);
            });
        }

        // Opslaan in localStorage
        function saveToLocalStorage() {
            localStorage.setItem('eurovisionPredictions', JSON.stringify(predictions));
        }

        // Laden uit localStorage
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('eurovisionPredictions');
            if (saved) {
                predictions = JSON.parse(saved);
            }
        }

        // Exporteren naar CSV
        function exportToCSV() {
            if (predictions.length === 0) {
                alert('Er zijn nog geen voorspellingen om te exporteren.');
                return;
            }
            
            let csvContent = "data:text/csv;charset=utf-8,";
            csvContent += "Naam,Email,1e plaats,2e plaats,3e plaats,4e plaats,5e plaats\n";
            
            predictions.forEach(prediction => {
                let row = `${prediction.name},${prediction.email}`;
                
                // Voeg de 5 landen toe
                for (let i = 0; i < 5; i++) {
                    const entry = prediction.entries[i];
                    row += `,${entry ? entry.country : ""}`;
                }
                
                csvContent += row + "\n";
            });
            
            // Creëer een downloadbare link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "eurovision_pronostiek.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>default/files/styles/crop_teaser_image/public/media/image/2023-11/23_10_11-C-LINHNGUYEN_Abor-Tynna_019.jpg",
                youtubeId: "sKDdVRGwkOA",
                semifinal: 0, // Directe finalist
                qualified: true,
                description: "Abor & Tynna brengen voor Duitsland het energieke 'Baller', een urban pop-nummer met hiphop-invloeden en een aanstekelijk refrein."
            },
            {
                id: 16,
                country: "Griekenland",
                artist: "Klavdia",
                song: "Asteromáta",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/GR-KLAVDIA_04.jpg",
                youtubeId: "K1gDNTdxRyM",
                semifinal: 2,
                qualified: false,
                description: "Klavdia vertegenwoordigt Griekenland met 'Asteromáta', een moderne interpretatie van traditionele Griekse muziek met elektronische elementen."
            },
            {
                id: 17,
                country: "IJsland",
                artist: "VÆB",
                song: "RÓA",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/IMG_6644.jpg",
                youtubeId: "XOSwPfqQAGo",
                semifinal: 1,
                qualified: false,
                description: "IJsland stuurt VÆB met het mystieke 'RÓA', een nummer dat IJslandse natuurelementen en folklore combineert met moderne elektronische muziek."
            },
            {
                id: 18,
                country: "Ierland",
                artist: "EMMY",
                song: "Laika Party",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/v1-olemartinsandness-Emmy_134.jpg",
                youtubeId: "LmepLtipILU",
                semifinal: 2,
                qualified: false,
                description: "EMMY vertegenwoordigt Ierland met het experimentele 'Laika Party', dat ruimtevaart-thema's mengt met keltische klanken en moderne dance."
            },
            {
                id: 19,
                country: "Israël",
                artist: "Yuval Raphael",
                song: "New Day Will Rise",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Yuval-Raphael-PR-1-BEST.jpg",
                youtubeId: "yKFxwT0QYdQ",
                semifinal: 2,
                qualified: false,
                description: "Yuval Raphael zingt voor Israël het hoopvolle 'New Day Will Rise', een emotievolle ballad met traditionele Midden-Oosterse muziekinvloeden."
            },
            {
                id: 20,
                country: "Italië",
                artist: "Lucio Corsi",
                song: "Volevo Essere Un Duro",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/DSCF8932-Landscape-Credit-Simone-Biavati.jpg",
                youtubeId: "UJHvnJkBSVo",
                semifinal: 0, // Directe finalist
                qualified: true,
                description: "Lucio Corsi vertegenwoordigt Italië met 'Volevo Essere Un Duro', een nummer dat klassieke Italiaanse cantautore-stijl combineert met moderne pop-rock."
            },
            {
                id: 21,
                country: "Letland",
                artist: "Tautumeitas",
                song: "Bur Man Laimi",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Tautumeitas_8.jpg",
                youtubeId: "xGlGUAOjBxw",
                semifinal: 2,
                qualified: false,
                description: "Tautumeitas brengt voor Letland een traditioneel folk nummer 'Bur Man Laimi', dat Baltische vocale harmonieën combineert met moderne instrumentatie."
            },
            {
                id: 22,
                country: "Litouwen",
                artist: "Katarsis",
                song: "Tavo Akys",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/1-katarsis.jpg",
                youtubeId: "nWfGbkKzwjc",
                semifinal: 2,
                qualified: false,
                description: "Katarsis vertegenwoordigt Litouwen met 'Tavo Akys', een alternatief rocknummer met Baltische folk-elementen en introspectieve teksten."
            },
            {
                id: 23,
                country: "Luxemburg",
                artist: "Laura Thorn",
                song: "La Poupée Monte Le Son",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Laura-20.02.2025-884.jpg",
                youtubeId: "x2aNvtxDsS8",
                semifinal: 2,
                qualified: false,
                description: "Laura Thorn brengt voor Luxemburg 'La Poupée Monte Le Son', een Franse discosong die de terugkeer markeert van Luxemburg op het Eurovision-podium na lange afwezigheid."
            },
            {
                id: 24,
                country: "Malta",
                artist: "Miriana Conte",
                song: "SERVING",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Miriana-Official-Shoot-07.jpg",
                youtubeId: "TqXDVOLx3fY",
                semifinal: 2,
                qualified: false,
                description: "Miriana Conte vertegenwoordigt Malta met 'SERVING', een eigentijds pop-nummer met sterke empowerment-boodschap en mediterrane invloeden."
            },
            {
                id: 25,
                country: "Montenegro",
                artist: "Nina Žižić",
                song: "Dobrodošli",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Nina-Zizic-1.jpeg",
                youtubeId: "WDa8kEbw-Qo",
                semifinal: 2,
                qualified: false,
                description: "Nina Žižić zingt voor Montenegro 'Dobrodošli', een nummer dat Balkan-ritmes combineert met moderne pop en een boodschap van gastvrijheid."
            },
            {
                id: 26,
                country: "Nederland",
                artist: "Claude",
                song: "C'est La Vie",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/TB_Claude_Press_31499.jpg",
                youtubeId: "_6WEOC-hT38",
                semifinal: 1,
                qualified: false,
                description: "Claude vertegenwoordigt Nederland met 'C'est La Vie', een vrolijk Frans- en Nederlandstalig popnummer met retro-invloeden uit de jaren 80."
            },
            {
                id: 27,
                country: "Noorwegen",
                artist: "Kyle Alessandro",
                song: "Lighter",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/3-Kyle-Alessandro-2025-03-05-pressebilder-048-TorHakon.JPG",
                youtubeId: "A4LvEY5Z0Y4",
                semifinal: 1,
                qualified: false,
                description: "Kyle Alessandro zingt voor Noorwegen het emotionele 'Lighter', een poëtische pop-ballad met Scandinavische elementen over het vinden van licht in duisternis."
            },
            {
                id: 28,
                country: "Polen",
                artist: "Justyna Steczkowska",
                song: "GAJA",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Justyna-Steczkowska-main.jpg",
                youtubeId: "QiQ6xEfcR_0",
                semifinal: 1,
                qualified: false,
                description: "Justyna Steczkowska vertegenwoordigt Polen met 'GAJA', een theatraal nummer dat Slavische volksmuziek combineert met opera-elementen en elektronische beats."
            },
            {
                id: 29,
                country: "Portugal",
                artist: "NAPA",
                song: "Deslocado",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/07_NAPA.jpg",
                youtubeId: "D-WKeoFxCTQ",
                semifinal: 1,
                qualified: false,
                description: "NAPA brengt voor Portugal het melancholische 'Deslocado', een nummer dat traditionele fado mengt met alternatieve rock en autobiografische tekst."
            },
            {
                id: 30,
                country: "San Marino",
                artist: "Gabry Ponte",
                song: "Tutta L'Italia",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/240724_GabryPonte0749.jpg",
                youtubeId: "l5H7UmXL0jQ",
                semifinal: 1,
                qualified: false,
                description: "Gabry Ponte vertegenwoordigt San Marino met 'Tutta L'Italia', een energieke dance-hit die Italiaanse populaire cultuur celebreert met electronische beats."
            },
            {
                id: 31,
                country: "Servië",
                artist: "Princ",
                song: "Mila",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Princ-photo-2-by-Nikola-Glisic.jpeg",
                youtubeId: "eglFj5LEWqQ",
                semifinal: 2,
                qualified: false,
                description: "Princ zingt voor Servië het emotionele 'Mila', een ballad die traditionele Balkan-melodieën combineert met moderne urban elementen."
            },
            {
                id: 32,
                country: "Slovenië",
                artist: "Klemen",
                song: "How Much Time Do We Have Left",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Klemen_How-Much-Time-Do-We-Have-Left_3_Tomo-Brejc.jpg",
                youtubeId: "C6TvU0YbQFE",
                semifinal: 1,
                qualified: false,
                description: "Klemen vertegenwoordigt Slovenië met 'How Much Time Do We Have Left', een reflectieve indie-pop song met milieuboodschap en Alpijnse invloeden."
            },
            {
                id: 33,
                country: "Spanje",
                artist: "Melody",
                song: "ESA DIVA",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Melody-Eurovison44033_v1-copia.jpg",
                youtubeId: "X1-6ExpVbHQ",
                semifinal: 0, // Directe finalist
                qualified: true,
                description: "Melody brengt voor Spanje het opzwepende 'ESA DIVA', een flamenco-geïnspireerd pop-nummer met Latin ritmes en feministisch thema."
            },
            {
                id: 34,
                country: "Zweden",
                artist: "KAJ",
                song: "Bara Bada Bastu",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/BARABADABASTU-07C-Fotograf-Erik-Ahman.jpg",
                youtubeId: "U5qPoUyNN2g",
                semifinal: 1,
                qualified: false,
                description: "KAJ vertegenwoordigt Zweden met het unieke 'Bara Bada Bastu', een traditie-kritisch nummer dat Zweedse sauna-cultuur combineert met catchy schlager-pop."
            },
            {
                id: 35,
                country: "Zwitserland",
                artist: "Zoë Më",
                song: "Voyage",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/1_HR_O7A4734.jpg",
                youtubeId: "0yR0YvPcQ2g",
                semifinal: 0, // Directe finalist (gastland)
                qualified: true,
                description: "Zoë Më vertegenwoordigt gastland Zwitserland met 'Voyage', een meertalig popnummer dat Alpijnse elementen combineert met moderne elektronische beats."
            },
            {
                id: 36,
                country: "Oekraïne",
                artist: "Ziferblat",
                song: "Bird of Pray",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/DSC00359.jpg",
                youtubeId: "rJaMQb6SpJc",
                semifinal: 1,
                qualified: false,
                description: "Ziferblat brengt voor Oekraïne het intense 'Bird of Pray', een nummer dat traditionele Oekraïense volksinvloeden mengt met moderne alternatieve rock."
            },
            {
                id: 37,
                country: "Verenigd Koninkrijk",
                artist: "Remember Monday",
                song: "What The Hell Just Happened?",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2023-11/SHK-10.jpg",
                youtubeId: "nDMJ3hJU7o8",
                semifinal: 1,
                qualified: false,
                description: "Besa vertegenwoordigt Albanië met het krachtige nummer 'Titan' dat een mix is van traditionele Albanese geluiden en moderne pop."
            },
            {
                id: 2,
                country: "Armenië",
                artist: "LADANIVA",
                song: "Jako",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2023-12/Parg2812.jpg",
                youtubeId: "GpwCmjxlawc",
                semifinal: 2,
                qualified: false,
                description: "LADANIVA brengt een mix van traditionele Armeense muziek met moderne wereldmuziek in hun nummer 'Jako'."
            },
            {
                id: 3,
                country: "Australië",
                artist: "Go-Jo",
                song: "Milkshake Man",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/GoJo_JeremyKeesOrr_09.jpg",
                youtubeId: "KwJhE77xpW4",
                semifinal: 2,
                qualified: false,
                description: "Australië stuurt Go-Jo naar Eurovision met het catchy 'Milkshake Man', een moderne popnummer met elektronische invloeden."
            },
            {
                id: 4,
                country: "Oostenrijk",
                artist: "JJ",
                song: "Wasted Love",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-04/ESC25_AUT_JJ_full-28.jpg",
                youtubeId: "7EBsoEm-eDU",
                semifinal: 2,
                qualified: false,
                description: "JJ vertegenwoordigt Oostenrijk met 'Wasted Love', een emotionele ballad over verloren liefde en hoop."
            },
            {
                id: 5,
                country: "Azerbeidzjan",
                artist: "Mamagama",
                song: "Run With U",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/MAMAGAMA-1.jpg",
                youtubeId: "qf_xsIfAEFs",
                semifinal: 1,
                qualified: false,
                description: "Mamagama brengt voor Azerbeidzjan het energieke nummer 'Run With U', dat Azeri volksinvloeden combineert met moderne popmuziek."
            },
            {
                id: 6,
                country: "België",
                artist: "Red Sebastian",
                song: "Strobe Lights",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-04/RED-SEBASTIAN-1-adjust.jpg",
                youtubeId: "Boz6DZCFVGk",
                semifinal: 1,
                qualified: false,
                description: "Red Sebastian vertegenwoordigt België met 'Strobe Lights', een dancenummer met elektronische invloeden dat een verhaal vertelt over het nachtleven."
            },
            {
                id: 7,
                country: "Kroatië",
                artist: "Marko Bošnjak",
                song: "Poison Cake",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/Croatia_Poison_Cake_Marko_Bosnjak_1.jpg",
                youtubeId: "PmK65Ae2iRU",
                semifinal: 1,
                qualified: false,
                description: "Kroatië stuurt Marko Bošnjak met het intrigerende nummer 'Poison Cake', dat elementen van traditionele Balkanmuziek combineert met moderne pop."
            },
            {
                id: 8,
                country: "Cyprus",
                artist: "Theo Evan",
                song: "Shh",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/SHH-COVER-PHOTO-2.jpg",
                youtubeId: "OKa0OFd6kG8",
                semifinal: 1,
                qualified: false,
                description: "Theo Evan vertegenwoordigt Cyprus met het mysterieuze en sensuele nummer 'Shh', dat mediterrane klanken mengt met moderne R&B."
            },
            {
                id: 9,
                country: "Tsjechië",
                artist: "ADONXS",
                song: "Kiss Kiss Goodbye",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-05/DAVID_URBAN_ADONXS_COVER_ART_03-kopie.jpg",
                youtubeId: "j0BYwRYlQQI",
                semifinal: 2,
                qualified: false,
                description: "ADONXS brengt voor Tsjechië het pakkende 'Kiss Kiss Goodbye', een pop/dance nummer dat gaat over het loslaten van relaties."
            },
            {
                id: 10,
                country: "Denemarken",
                artist: "Sissal",
                song: "Hallucination",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/edit4.webp",
                youtubeId: "2DFKJBppnjk",
                semifinal: 2,
                qualified: false,
                description: "Sissal vertegenwoordigt Denemarken met 'Hallucination', een dromerige popsong met noordse invloeden die een surreële liefde beschrijft."
            },
            {
                id: 11,
                country: "Estland",
                artist: "Tommy Cash",
                song: "Espresso Macchiato",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/10.jpg",
                youtubeId: "u8GKufdG1bY",
                semifinal: 1,
                qualified: false,
                description: "Estland stuurt Tommy Cash met het controversiële 'Espresso Macchiato', een trap-nummer met unieke visuele elementen en provocatieve tekst."
            },
            {
                id: 12,
                country: "Finland",
                artist: "Erika Vikman",
                song: "ICH KOMME",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-04/LOVETAR_1-NelliKentta.jpg",
                youtubeId: "ZZBfNJWu9Lw",
                semifinal: 2,
                qualified: false,
                description: "Erika Vikman vertegenwoordigt Finland met 'ICH KOMME', een krachtig Duitstalig dansnummer met Finse volksinvloeden."
            },
            {
                id: 13,
                country: "Frankrijk",
                artist: "Louane",
                song: "maman",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/8da8b004-fca4-4d82-bb02-0498282d08da-2.jpg",
                youtubeId: "YkQSPvRyDo8",
                semifinal: 0, // Directe finalist
                qualified: true,
                description: "Louane zingt voor Frankrijk het emotionele 'maman', een liefdevolle ode aan moederschap die Franse chanson-elementen combineert met moderne pop."
            },
            {
                id: 14,
                country: "Georgië",
                artist: "Mariam Shengelia",
                song: "Freedom",
                image: "https://eurovision.tv/sites/default/files/styles/crop_teaser_image/public/media/image/2024-03/IMG_4371.jpg",
                youtubeId: "FkLr8SIZoqk",
                semifinal: 2,
                qualified: false,
                description: "Mariam Shengelia vertegenwoordigt Georgië met 'Freedom', een krachtig nummer over vrijheid en emancipatie met Kaukasische muzikale elementen."
            },
            {
                id: 15,
                country: "Duitsland",
                artist: "Abor & Tynna",
                song: "Baller",
                image: "https://eurovision.tv/sites/
