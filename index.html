<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eurovisiesongfestival 2025 Pronostiek - VRT Team</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        :root {
            --eurovision-pink: #f93b80;
            --eurovision-red: #f03c2b;
            --eurovision-dark: #1A0406;
            --eurovision-light: #ffffff;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #000000;
            color: var(--eurovision-light);
        }
        
        .navbar {
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
        }
        
        .header-banner {
            background: linear-gradient(45deg, var(--eurovision-dark) 0%, var(--eurovision-red) 50%, var(--eurovision-pink) 100%); 
            color: white;
            padding: 80px 0;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header-banner::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 0%, transparent 70%, rgba(249, 59, 128, 0.3) 100%);
            background-size: 20px 20px;
            opacity: 0.8;
            z-index: 0;
        }
        
        .header-banner .container {
            position: relative;
            z-index: 1;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
            border: none;
            font-weight: bold;
        }
        
        .btn-primary:hover {
            background: linear-gradient(90deg, var(--eurovision-pink) 0%, var(--eurovision-red) 100%);
            border: none;
        }
        
        .btn-success {
            background-color: var(--eurovision-red);
            border-color: var(--eurovision-red);
        }
        
        .card {
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s;
            background-color: var(--eurovision-dark);
            color: var(--eurovision-light);
            border: none;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .country-flag {
            font-size: 1.5rem;
            margin-right: 8px;
        }
        
        .form-section {
            background: linear-gradient(135deg, var(--eurovision-dark) 0%, #3a0a11 100%);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 30px;
            border: 1px solid rgba(249, 59, 128, 0.2);
        }
        
        .selected-entry {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-dialog {
            max-width: 800px;
        }
        
        .modal-content {
            background-color: var(--eurovision-dark);
            color: var(--eurovision-light);
            border: 1px solid var(--eurovision-pink);
        }
        
        .modal-header {
            border-bottom: 1px solid rgba(249, 59, 128, 0.2);
        }
        
        .modal-footer {
            border-top: 1px solid rgba(249, 59, 128, 0.2);
        }
        
        .youtube-embed {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 ratio */
            height: 0;
            overflow: hidden;
        }
        
        .youtube-embed iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, var(--eurovision-dark) 0%, #000000 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }
        
        .password-container {
            background: linear-gradient(135deg, #250911 0%, #3a0a11 100%);
            padding: 50px;
            border-radius: 10px;
            width: 90%;
            max-width: 550px;
            text-align: center;
            border: 1px solid rgba(249, 59, 128, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .results-table {
            width: 100%;
            margin-top: 20px;
        }
        
        .results-table th {
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
            color: white;
        }
        
        .hidden {
            display: none;
        }
        
        .participant-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(249, 59, 128, 0.1);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .participant-item:hover {
            background-color: rgba(249, 59, 128, 0.1);
            border-color: rgba(249, 59, 128, 0.3);
        }
        
        .participant-item h5 {
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        .participant-item p {
            margin-bottom: 0;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .form-control {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(249, 59, 128, 0.2);
            color: white;
        }
        
        .form-control:focus {
            background-color: rgba(255, 255, 255, 0.15);
            border-color: var(--eurovision-pink);
            color: white;
            box-shadow: 0 0 0 0.25rem rgba(249, 59, 128, 0.25);
        }
        
        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        
        footer {
            background-color: var(--eurovision-dark) !important;
            border-top: 1px solid rgba(249, 59, 128, 0.2);
        }
        
        /* Removed logo styles */
        
        .heart-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, var(--eurovision-pink) 3px, transparent 4px);
            background-size: 30px 30px;
            opacity: 0.1;
            pointer-events: none;
        }
        
        .alert-info {
            background-color: rgba(0, 123, 255, 0.1);
            border-color: rgba(0, 123, 255, 0.3);
            color: #8bb9ff;
        }
        
        .alert-primary {
            background-color: rgba(249, 59, 128, 0.1);
            border-color: rgba(249, 59, 128, 0.3);
            color: #ff9dc0;
        }
        
        .badge {
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
        }
        
        .thank-you-message {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, rgba(249, 59, 128, 0.1) 0%, rgba(240, 60, 43, 0.1) 100%);
            border-radius: 10px;
            border: 1px solid rgba(249, 59, 128, 0.2);
            margin-bottom: 30px;
        }
        
        .thank-you-message h2 {
            color: var(--eurovision-pink);
            margin-bottom: 15px;
        }
        
        .btn-red-sebastian {
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
            color: white;
            border: none;
            font-weight: bold;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-red-sebastian:hover {
            background: linear-gradient(90deg, var(--eurovision-pink) 0%, var(--eurovision-red) 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        
        h1, h2, h3, h4, h5 {
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        
        /* Red Sebastian typografie */
        .red-sebastian-title {
            text-transform: uppercase;
            font-weight: 900;
            letter-spacing: 1px;
            text-align: center;
            background: linear-gradient(90deg, var(--eurovision-red) 0%, var(--eurovision-pink) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            padding: 10px 0;
            font-size: 2.5rem;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <!-- Password Protection -->
    <div class="password-screen" id="passwordScreen">
        <div class="heart-pattern"></div>
        <div class="password-container">
            <h2 class="mb-4 red-sebastian-title">EUROVISIE PRONOSTIEK</h2>
            <p class="mb-4">Voer het wachtwoord in om toegang te krijgen tot de Eurovisiesongfestival 2025 pronostiek.</p>
            <div class="mb-4">
                <input type="password" class="form-control form-control-lg py-3" id="passwordInput" placeholder="Wachtwoord">
            </div>
            <button class="btn btn-red-sebastian btn-lg py-3 px-5 w-100" id="submitPassword">INLOGGEN</button>
            <p class="text-danger mt-3 hidden" id="passwordError">Onjuist wachtwoord. Probeer opnieuw.</p>
        </div>
    </div>

    <!-- Main Content (hidden until password entered) -->
    <div id="mainContent" class="hidden">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <span>VRT Team</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#deelnemers">Deelnemers</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#pronostiek">Mijn Pronostiek</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <header class="header-banner">
            <div class="heart-pattern"></div>
            <div class="container">
                <h1 class="red-sebastian-title">EUROVISIESONGFESTIVAL 2025</h1>
                <h2>Basel, Zwitserland</h2>
                <p class="lead">VRT Team Pronostiek</p>
            </div>
        </header>

        <div class="container mb-5">
            <section id="deelnemers" class="mb-5">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h2 class="red-sebastian-title mb-0">DEELNEMERS</h2>
                    <div class="input-group w-50">
                        <input type="text" class="form-control" id="searchInput" placeholder="Zoek op land, artiest of lied...">
                        <button class="btn btn-primary" type="button">
                            <i class="bi bi-search"></i> Zoeken
                        </button>
                    </div>
                </div>

                <div class="row" id="allParticipants">
                    <!-- Wordt dynamisch gevuld door JavaScript -->
                </div>
            </section>

            <section id="pronostiek" class="form-section" data-submitted="false">
                <h2 class="red-sebastian-title mb-4">MIJN PRONOSTIEK</h2>
                <form id="pronostiekForm">
                    <div class="mb-3">
                        <label for="deelnemer" class="form-label">Wie ben je?</label>
                        <select class="form-control" id="deelnemer" required>
                            <option value="" selected disabled>Selecteer je naam</option>
                            <option value="Birgit">Birgit</option>
                            <option value="Els">Els</option>
                            <option value="Johfrah">Johfrah</option>
                            <option value="Louise">Louise</option>
                            <option value="Michiel">Michiel</option>
                            <option value="Nikolaas">Nikolaas</option>
                            <option value="Peter">Peter</option>
                            <option value="Thomas">Thomas</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="form-label">Jouw Top 5</label>
                        <p class="text-muted">Kies 5 landen en sleep ze in je voorspelde volgorde. Let op: je kunt slechts Ã©Ã©n keer je pronostiek indienen!</p>
                        
                        <div id="selectedEntries" class="mb-3">
                            <div class="alert alert-info">Klik op landen in de lijst hierboven om ze toe te voegen aan je Top 5.</div>
                        </div>
                        
                        <div id="dragInstructions" class="alert alert-primary hidden">
                            Sleep de items om de volgorde aan te passen (1 = winnaar).
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-red-sebastian w-100 py-2" id="submitPronostiek">SLECHTS Ã‰Ã‰N KANS! BEVESTIG MIJN PRONOSTIEK</button>
                </form>
                
                <div id="thankYouMessage" class="thank-you-message hidden">
                    <h2>Bedankt voor je deelname!</h2>
                    <p>Je pronostiek is opgeslagen. Je kunt deze niet meer wijzigen.</p>
                    <p>Bekijk hieronder de huidige stand van het team.</p>
                </div>
            </section>

            <section id="resultaten" class="form-section hidden">
                <h2 class="red-sebastian-title mb-4">TEAM RESULTATEN</h2>
                <p>Hier kun je alle voorspellingen bekijken en de gezamenlijke teamvoorspelling zien.</p>
                
                <table class="table results-table table-dark">
                    <thead>
                        <tr>
                            <th>Positie</th>
                            <th>Land</th>
                            <th>Artiest</th>
                            <th>Lied</th>
                            <th>Punten</th>
                        </tr>
                    </thead>
                    <tbody id="resultsTableBody">
                        <!-- Wordt dynamisch gevuld door JavaScript -->
                    </tbody>
                </table>
                
                <h3 class="mt-5 mb-3">Alle voorspellingen</h3>
                <div id="allPredictions">
                    <!-- Wordt dynamisch gevuld door JavaScript -->
                </div>
                
                <button class="btn btn-red-sebastian mt-4" id="exportResults">Exporteren als CSV</button>
            </section>
        </div>

        <footer class="bg-dark text-white py-4">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <h5 class="mb-2">Eurovisiesongfestival 2025</h5>
                        <p>13, 15 en 17 mei 2025 - Basel, Zwitserland</p>
                    </div>
                    <div class="col-md-6 text-md-end">
                        <p>VRT Team Pronostiek</p>
                        <p class="mb-0">Â© 2025</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Participant Detail Modal -->
    <div class="modal fade" id="participantModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="heart-pattern"></div>
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">Land - Artiest</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="youtube-embed mb-4">
                        <iframe id="youtubeEmbed" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                    <h4 id="modalSongTitle">Liedje</h4>
                    <p id="modalDescription">Beschrijving van het liedje en de artiest...</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Sluiten</button>
                    <button type="button" class="btn btn-red-sebastian" id="addToTopFive">Toevoegen aan mijn Top 5</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="heart-pattern"></div>
                <div class="modal-header">
                    <h5 class="modal-title">Bevestig je keuze</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <strong>Let op!</strong> Je kunt je pronostiek maar Ã©Ã©n keer indienen. Ben je zeker van je selectie?
                    </div>
                    <p>Na bevestiging kun je je keuzes niet meer wijzigen.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-light" data-bs-dismiss="modal">Annuleren</button>
                    <button type="button" class="btn btn-red-sebastian" id="confirmSubmission">Ja, ik ben zeker</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SortableJS for drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <script>
        // Wachtwoordbeveiliging
        const correctPassword = "Nikolaasje"; // Aangepast wachtwoord
        
        document.getElementById('submitPassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('passwordInput').value;
            
            if (passwordInput === correctPassword) {
                document.getElementById('passwordScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
            } else {
                document.getElementById('passwordError').classList.remove('hidden');
            }
        });
        
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('submitPassword').click();
            }
        });

        // Eurovision 2025 deelnemers data met landvlaggen
        const participants = [
            {
                id: 1,
                country: "AlbaniÃ«",
                flag: "ðŸ‡¦ðŸ‡±",
                artist: "Besa",
                song: "Titan",
                youtubeId: "nDMJ3hJU7o8",
                description: "Besa vertegenwoordigt AlbaniÃ« met het krachtige nummer 'Titan' dat een mix is van traditionele Albanese geluiden en moderne pop."
            },
            {
                id: 2,
                country: "ArmeniÃ«",
                flag: "ðŸ‡¦ðŸ‡²",
                artist: "LADANIVA",
                song: "Jako",
                youtubeId: "GpwCmjxlawc",
                description: "LADANIVA brengt een mix van traditionele Armeense muziek met moderne wereldmuziek in hun nummer 'Jako'."
            },
            {
                id: 3,
                country: "AustraliÃ«",
                flag: "ðŸ‡¦ðŸ‡º",
                artist: "Go-Jo",
                song: "Milkshake Man",
                youtubeId: "KwJhE77xpW4",
                description: "AustraliÃ« stuurt Go-Jo naar Eurovision met het catchy 'Milkshake Man', een moderne popnummer met elektronische invloeden."
            },
            {
                id: 4,
                country: "Oostenrijk",
                flag: "ðŸ‡¦ðŸ‡¹",
                artist: "JJ",
                song: "Wasted Love",
                youtubeId: "7EBsoEm-eDU",
                description: "JJ vertegenwoordigt Oostenrijk met 'Wasted Love', een emotionele ballad over verloren liefde en hoop."
            },
            {
                id: 5,
                country: "Azerbeidzjan",
                flag: "ðŸ‡¦ðŸ‡¿",
                artist: "Mamagama",
                song: "Run With U",
                youtubeId: "qf_xsIfAEFs",
                description: "Mamagama brengt voor Azerbeidzjan het energieke nummer 'Run With U', dat Azeri volksinvloeden combineert met moderne popmuziek."
            },
            {
                id: 6,
                country: "BelgiÃ«",
                flag: "ðŸ‡§ðŸ‡ª",
                artist: "Red Sebastian",
                song: "Strobe Lights",
                youtubeId: "Boz6DZCFVGk",
                description: "Red Sebastian vertegenwoordigt BelgiÃ« met 'Strobe Lights', een dancenummer met elektronische invloeden dat een verhaal vertelt over het nachtleven."
            },
            {
                id: 7,
                country: "KroatiÃ«",
                flag: "ðŸ‡­ðŸ‡·",
                artist: "Marko BoÅ¡njak",
                song: "Poison Cake",
                youtubeId: "PmK65Ae2iRU",
                description: "KroatiÃ« stuurt Marko BoÅ¡njak met het intrigerende nummer 'Poison Cake', dat elementen van traditionele Balkanmuziek combineert met moderne pop."
            },
            {
                id: 8,
                country: "Cyprus",
                flag: "ðŸ‡¨ðŸ‡¾",
                artist: "Theo Evan",
                song: "Shh",
                youtubeId: "OKa0OFd6kG8",
                description: "Theo Evan vertegenwoordigt Cyprus met het mysterieuze en sensuele nummer 'Shh', dat mediterrane klanken mengt met moderne R&B."
            },
            {
                id: 9,
                country: "TsjechiÃ«",
                flag: "ðŸ‡¨ðŸ‡¿",
                artist: "ADONXS",
                song: "Kiss Kiss Goodbye",
                youtubeId: "j0BYwRYlQQI",
                description: "ADONXS brengt voor TsjechiÃ« het pakkende 'Kiss Kiss Goodbye', een pop/dance nummer dat gaat over het loslaten van relaties."
            },
            {
                id: 10,
                country: "Denemarken",
                flag: "ðŸ‡©ðŸ‡°",
                artist: "Sissal",
                song: "Hallucination",
                youtubeId: "2DFKJBppnjk",
                description: "Sissal vertegenwoordigt Denemarken met 'Hallucination', een dromerige popsong met noordse invloeden die een surreÃ«le liefde beschrijft."
            },
            {
                id: 11,
                country: "Estland",
                flag: "ðŸ‡ªðŸ‡ª",
                artist: "Tommy Cash",
                song: "Espresso Macchiato",
                youtubeId: "u8GKufdG1bY",
                description: "Estland stuurt Tommy Cash met het controversiÃ«le 'Espresso Macchiato', een trap-nummer met unieke visuele elementen en provocatieve tekst."
            },
            {
                id: 12,
                country: "Finland",
                flag: "ðŸ‡«ðŸ‡®",
                artist: "Erika Vikman",
                song: "ICH KOMME",
                youtubeId: "ZZBfNJWu9Lw",
                description: "Erika Vikman vertegenwoordigt Finland met 'ICH KOMME', een krachtig Duitstalig dansnummer met Finse volksinvloeden."
            },
            {
                id: 13,
                country: "Frankrijk",
                flag: "ðŸ‡«ðŸ‡·",
                artist: "Louane",
                song: "maman",
                youtubeId: "YkQSPvRyDo8",
                description: "Louane zingt voor Frankrijk het emotionele 'maman', een liefdevolle ode aan moederschap die Franse chanson-elementen combineert met moderne pop."
            },
            {
                id: 14,
                country: "GeorgiÃ«",
                flag: "ðŸ‡¬ðŸ‡ª",
                artist: "Mariam Shengelia",
                song: "Freedom",
                youtubeId: "FkLr8SIZoqk",
                description: "Mariam Shengelia vertegenwoordigt GeorgiÃ« met 'Freedom', een krachtig nummer over vrijheid en emancipatie met Kaukasische muzikale elementen."
            },
            {
                id: 15,
                country: "Duitsland",
                flag: "ðŸ‡©ðŸ‡ª",
                artist: "Abor & Tynna",
                song: "Baller",
                youtubeId: "sKDdVRGwkOA",
                description: "Abor & Tynna brengen voor Duitsland het energieke 'Baller', een urban pop-nummer met hiphop-invloeden en een aanstekelijk refrein."
            },
            {
                id: 16,
                country: "Griekenland",
                flag: "ðŸ‡¬ðŸ‡·",
                artist: "Klavdia",
                song: "AsteromÃ¡ta",
                youtubeId: "K1gDNTdxRyM",
                description: "Klavdia vertegenwoordigt Griekenland met 'AsteromÃ¡ta', een moderne interpretatie van traditionele Griekse muziek met elektronische elementen."
            },
            {
                id: 17,
                country: "IJsland",
                flag: "ðŸ‡®ðŸ‡¸",
                artist: "VÃ†B",
                song: "RÃ“A",
                youtubeId: "XOSwPfqQAGo",
                description: "IJsland stuurt VÃ†B met het mystieke 'RÃ“A', een nummer dat IJslandse natuurelementen en folklore combineert met moderne elektronische muziek."
            },
            {
                id: 18,
                country: "Ierland",
                flag: "ðŸ‡®ðŸ‡ª",
                artist: "EMMY",
                song: "Laika Party",
                youtubeId: "LmepLtipILU",
                description: "EMMY vertegenwoordigt Ierland met het experimentele 'Laika Party', dat ruimtevaart-thema's mengt met keltische klanken en moderne dance."
            },
            {
                id: 19,
                country: "IsraÃ«l",
                flag: "ðŸ‡®ðŸ‡±",
                artist: "Yuval Raphael",
                song: "New Day Will Rise",
                youtubeId: "yKFxwT0QYdQ",
                description: "Yuval Raphael zingt voor IsraÃ«l het hoopvolle 'New Day Will Rise', een emotievolle ballad met traditionele Midden-Oosterse muziekinvloeden."
            },
            {
                id: 20,
                country: "ItaliÃ«",
                flag: "ðŸ‡®ðŸ‡¹",
                artist: "Lucio Corsi",
                song: "Volevo Essere Un Duro",
                youtubeId: "UJHvnJkBSVo",
                description: "Lucio Corsi vertegenwoordigt ItaliÃ« met 'Volevo Essere Un Duro', een nummer dat klassieke Italiaanse cantautore-stijl combineert met moderne pop-rock."
            },
            {
                id: 21,
                country: "Letland",
                flag: "ðŸ‡±ðŸ‡»",
                artist: "Tautumeitas",
                song: "Bur Man Laimi",
                youtubeId: "xGlGUAOjBxw",
                description: "Tautumeitas brengt voor Letland een traditioneel folk nummer 'Bur Man Laimi', dat Baltische vocale harmonieÃ«n combineert met moderne instrumentatie."
            },
            {
                id: 22,
                country: "Litouwen",
                flag: "ðŸ‡±ðŸ‡¹",
                artist: "Katarsis",
                song: "Tavo Akys",
                youtubeId: "nWfGbkKzwjc",
                description: "Katarsis vertegenwoordigt Litouwen met 'Tavo Akys', een alternatief rocknummer met Baltische folk-elementen en introspectieve teksten."
            },
            {
                id: 23,
                country: "Luxemburg",
                flag: "ðŸ‡±ðŸ‡º",
                artist: "Laura Thorn",
                song: "La PoupÃ©e Monte Le Son",
                youtubeId: "x2aNvtxDsS8",
                description: "Laura Thorn brengt voor Luxemburg 'La PoupÃ©e Monte Le Son', een Franse discosong die de terugkeer markeert van Luxemburg op het Eurovision-podium na lange afwezigheid."
            },
            {
                id: 24,
                country: "Malta",
                flag: "ðŸ‡²ðŸ‡¹",
                artist: "Miriana Conte",
                song: "SERVING",
                youtubeId: "TqXDVOLx3fY",
                description: "Miriana Conte vertegenwoordigt Malta met 'SERVING', een eigentijds pop-nummer met sterke empowerment-boodschap en mediterrane invloeden."
            },
            {
                id: 25,
                country: "Montenegro",
                flag: "ðŸ‡²ðŸ‡ª",
                artist: "Nina Å½iÅ¾iÄ‡",
                song: "DobrodoÅ¡li",
                youtubeId: "WDa8kEbw-Qo",
                description: "Nina Å½iÅ¾iÄ‡ zingt voor Montenegro 'DobrodoÅ¡li', een nummer dat Balkan-ritmes combineert met moderne pop en een boodschap van gastvrijheid."
            },
            {
                id: 26,
                country: "Nederland",
                flag: "ðŸ‡³ðŸ‡±",
                artist: "Claude",
                song: "C'est La Vie",
                youtubeId: "_6WEOC-hT38",
                description: "Claude vertegenwoordigt Nederland met 'C'est La Vie', een vrolijk Frans- en Nederlandstalig popnummer met retro-invloeden uit de jaren 80."
            },
            {
                id: 27,
                country: "Noorwegen",
                flag: "ðŸ‡³ðŸ‡´",
                artist: "Kyle Alessandro",
                song: "Lighter",
                youtubeId: "A4LvEY5Z0Y4",
                description: "Kyle Alessandro zingt voor Noorwegen het emotionele 'Lighter', een poÃ«tische pop-ballad met Scandinavische elementen over het vinden van licht in duisternis."
            },
            {
                id: 28,
                country: "Polen",
                flag: "ðŸ‡µðŸ‡±",
                artist: "Justyna Steczkowska",
                song: "GAJA",
                youtubeId: "QiQ6xEfcR_0",
                description: "Justyna Steczkowska vertegenwoordigt Polen met 'GAJA', een theatraal nummer dat Slavische volksmuziek combineert met opera-elementen en elektronische beats."
            },
            {
                id: 29,
                country: "Portugal",
                flag: "ðŸ‡µðŸ‡¹",
                artist: "NAPA",
                song: "Deslocado",
                youtubeId: "D-WKeoFxCTQ",
                description: "NAPA brengt voor Portugal het melancholische 'Deslocado', een nummer dat traditionele fado mengt met alternatieve rock en autobiografische tekst."
            },
            {
                id: 30,
                country: "San Marino",
                flag: "ðŸ‡¸ðŸ‡²",
                artist: "Gabry Ponte",
                song: "Tutta L'Italia",
                youtubeId: "l5H7UmXL0jQ",
                description: "Gabry Ponte vertegenwoordigt San Marino met 'Tutta L'Italia', een energieke dance-hit die Italiaanse populaire cultuur celebreert met electronische beats."
            },
            {
                id: 31,
                country: "ServiÃ«",
                flag: "ðŸ‡·ðŸ‡¸",
                artist: "Princ",
                song: "Mila",
                youtubeId: "eglFj5LEWqQ",
                description: "Princ zingt voor ServiÃ« het emotionele 'Mila', een ballad die traditionele Balkan-melodieÃ«n combineert met moderne urban elementen."
            },
            {
                id: 32,
                country: "SloveniÃ«",
                flag: "ðŸ‡¸ðŸ‡®",
                artist: "Klemen",
                song: "How Much Time Do We Have Left",
                youtubeId: "C6TvU0YbQFE",
                description: "Klemen vertegenwoordigt SloveniÃ« met 'How Much Time Do We Have Left', een reflectieve indie-pop song met milieuboodschap en Alpijnse invloeden."
            },
            {
                id: 33,
                country: "Spanje",
                flag: "ðŸ‡ªðŸ‡¸",
                artist: "Melody",
                song: "ESA DIVA",
                youtubeId: "X1-6ExpVbHQ",
                description: "Melody brengt voor Spanje het opzwepende 'ESA DIVA', een flamenco-geÃ¯nspireerd pop-nummer met Latin ritmes en feministisch thema."
            },
            {
                id: 34,
                country: "Zweden",
                flag: "ðŸ‡¸ðŸ‡ª",
                artist: "KAJ",
                song: "Bara Bada Bastu",
                youtubeId: "U5qPoUyNN2g",
                description: "KAJ vertegenwoordigt Zweden met het unieke 'Bara Bada Bastu', een traditie-kritisch nummer dat Zweedse sauna-cultuur combineert met catchy schlager-pop."
            },
            {
                id: 35,
                country: "Zwitserland",
                flag: "ðŸ‡¨ðŸ‡­",
                artist: "ZoÃ« MÃ«",
                song: "Voyage",
                youtubeId: "0yR0YvPcQ2g",
                description: "ZoÃ« MÃ« vertegenwoordigt gastland Zwitserland met 'Voyage', een meertalig popnummer dat Alpijnse elementen combineert met moderne elektronische beats."
            },
            {
                id: 36,
                country: "OekraÃ¯ne",
                flag: "ðŸ‡ºðŸ‡¦",
                artist: "Ziferblat",
                song: "Bird of Pray",
                youtubeId: "rJaMQb6SpJc",
                description: "Ziferblat brengt voor OekraÃ¯ne het intense 'Bird of Pray', een nummer dat traditionele OekraÃ¯ense volksinvloeden mengt met moderne alternatieve rock."
            },
            {
                id: 37,
                country: "Verenigd Koninkrijk",
                flag: "ðŸ‡¬ðŸ‡§",
                artist: "Remember Monday",
                song: "What The Hell Just Happened?",
                youtubeId: "WPZKaWYxKWI",
                description: "Remember Monday vertegenwoordigt het Verenigd Koninkrijk met het energieke 'What The Hell Just Happened?', een country-pop nummer met Britse folk-invloeden."
            }
        ];

        // Pronostiek opslag
        let predictions = [];
        let selectedEntries = [];
        let resultsVisible = false;
        
        // Check of de gebruiker al heeft ingediend
        function hasUserSubmitted(userName) {
            return predictions.some(prediction => prediction.name === userName);
        }
        
        // Update form status bij verandering van deelnemer
        function updateFormStatus() {
            const deelnemerSelect = document.getElementById('deelnemer');
            const selectedName = deelnemerSelect.value;
            
            if (selectedName && hasUserSubmitted(selectedName)) {
                // Verberg het formulier en toon bedankbericht
                document.getElementById('pronostiekForm').classList.add('hidden');
                document.getElementById('thankYouMessage').classList.remove('hidden');
                document.getElementById('pronostiek').setAttribute('data-submitted', 'true');
            } else {
                // Toon het formulier en verberg bedankbericht
                document.getElementById('pronostiekForm').classList.remove('hidden');
                document.getElementById('thankYouMessage').classList.add('hidden');
                document.getElementById('pronostiek').setAttribute('data-submitted', 'false');
            }
        }

        // DOM is geladen
        document.addEventListener('DOMContentLoaded', function() {
            // Vul alle deelnemers
            renderParticipants('allParticipants', participants);

            // Zoekfunctionaliteit
            document.getElementById('searchInput').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                const filteredParticipants = participants.filter(p => 
                    p.country.toLowerCase().includes(searchTerm) || 
                    p.artist.toLowerCase().includes(searchTerm) || 
                    p.song.toLowerCase().includes(searchTerm)
                );
                renderParticipants('allParticipants', filteredParticipants);
            });

            // Initialiseer Sortable voor drag & drop
            const sortableList = document.getElementById('selectedEntries');
            new Sortable(sortableList, {
                animation: 150,
                ghostClass: 'bg-light',
                onEnd: function() {
                    updateSelectedEntries();
                }
            });

            // Formulier verzenden met confirmatie modal
            document.getElementById('pronostiekForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (selectedEntries.length !== 5) {
                    alert('Selecteer precies 5 landen voor je pronostiek!');
                    return;
                }
                
                if (!document.getElementById('deelnemer').value) {
                    alert('Selecteer je naam uit de lijst!');
                    return;
                }
                
                // Toon de bevestigingsmodal
                const confirmModal = new bootstrap.Modal(document.getElementById('confirmationModal'));
                confirmModal.show();
            });
            
            // Defineer wat gebeurt bij definitieve bevestiging
            document.getElementById('confirmSubmission').addEventListener('click', function() {
                const deelnemer = document.getElementById('deelnemer').value;
                
                // Controleer of deze deelnemer al een voorspelling heeft
                const existingPrediction = predictions.find(p => p.name === deelnemer);
                if (existingPrediction) {
                    alert('Je hebt al een voorspelling ingediend!');
                    const confirmModal = bootstrap.Modal.getInstance(document.getElementById('confirmationModal'));
                    confirmModal.hide();
                    return;
                }
                
                // Nieuwe voorspelling toevoegen
                const prediction = {
                    name: deelnemer,
                    entries: [...selectedEntries]
                };
                
                predictions.push(prediction);
                
                // Sla de voorspellingen op in localStorage
                saveToLocalStorage();
                
                // Verberg het formulier en toon bedankbericht
                document.getElementById('pronostiekForm').classList.add('hidden');
                document.getElementById('thankYouMessage').classList.remove('hidden');
                
                // Toon resultaten sectie
                document.getElementById('resultaten').classList.remove('hidden');
                resultsVisible = true;
                
                // Update resultaten tabel
                updateResults();
                
                // Sluit de modal
                const confirmModal = bootstrap.Modal.getInstance(document.getElementById('confirmationModal'));
                confirmModal.hide();
                
                // Markeer deze sectie als ingediend
                document.getElementById('pronostiek').setAttribute('data-submitted', 'true');
                
                // Scroll naar resultaten
                document.getElementById('resultaten').scrollIntoView({
                    behavior: 'smooth'
                });
            });

            // Export knop
            document.getElementById('exportResults').addEventListener('click', function() {
                exportToCSV();
            });

            // Laad opgeslagen voorspellingen
            loadFromLocalStorage();
            
            // Voeg event listener toe aan deelnemer dropdown
            document.getElementById('deelnemer').addEventListener('change', updateFormStatus);
            
            // Laat resultaten pas zien na het indienen van een formulier
            if (predictions.length > 0 && !resultsVisible) {
                document.getElementById('resultaten').classList.remove('hidden');
                resultsVisible = true;
                updateResults();
            }
        });

        // Render deelnemers in container
        function renderParticipants(containerId, participantList) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            participantList.forEach(participant => {
                const col = document.createElement('div');
                col.className = 'col-md-6 col-lg-4';
                
                const item = document.createElement('div');
                item.className = 'participant-item';
                item.setAttribute('data-participant-id', participant.id);
                item.innerHTML = `
                    <h5>
                        <span class="country-flag">${participant.flag}</span>
                        ${participant.country} - ${participant.artist}
                    </h5>
                    <p>${participant.song}</p>
                    <button class="btn btn-primary btn-sm view-details" data-bs-toggle="modal" data-bs-target="#participantModal" data-participant-id="${participant.id}">
                        Bekijk details
                    </button>
                `;
                col.appendChild(item);
                container.appendChild(col);
                
                // Voeg event listener toe
                const detailButton = item.querySelector('.view-details');
                detailButton.addEventListener('click', function() {
                    const participantId = parseInt(this.getAttribute('data-participant-id'));
                    showParticipantDetails(participantId);
                });
            });
        }

        // Toon deelnemer details in modal
        function showParticipantDetails(participantId) {
            const participant = participants.find(p => p.id === participantId);
            
            document.getElementById('modalTitle').textContent = `${participant.flag} ${participant.country} - ${participant.artist}`;
            document.getElementById('modalSongTitle').textContent = participant.song;
            document.getElementById('modalDescription').textContent = participant.description;
            
            // Update YouTube embed
            const youtubeEmbed = document.getElementById('youtubeEmbed');
            youtubeEmbed.setAttribute('src', `https://www.youtube.com/embed/${participant.youtubeId}`);
            
            // Update de "Toevoegen aan Top 5" knop
            const addButton = document.getElementById('addToTopFive');
            const isSelected = selectedEntries.some(entry => entry.id === participant.id);
            
            if (isSelected) {
                addButton.textContent = 'Verwijderen uit Top 5';
                addButton.classList.remove('btn-red-sebastian');
                addButton.classList.add('btn-danger');
            } else {
                addButton.textContent = 'Toevoegen aan Top 5';
                addButton.classList.remove('btn-danger');
                addButton.classList.add('btn-red-sebastian');
            }
            
            // Voeg event listener toe aan de knop
            addButton.onclick = function() {
                if (isSelected) {
                    // Verwijder uit Top 5
                    selectedEntries = selectedEntries.filter(entry => entry.id !== participant.id);
                } else {
                    // Voeg toe aan Top 5
                    if (selectedEntries.length < 5) {
                        selectedEntries.push(participant);
                    } else {
                        alert('Je kunt maximaal 5 landen selecteren. Verwijder eerst een land om een nieuwe toe te voegen.');
                        return;
                    }
                }
                
                // Update de weergave
                updateSelectedEntries();
                
                // Sluit de modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('participantModal'));
                modal.hide();
            };
        }

        // Update de geselecteerde items in de Top 5
        function updateSelectedEntries() {
            const container = document.getElementById('selectedEntries');
            
            if (selectedEntries.length === 0) {
                container.innerHTML = '<div class="alert alert-info">Klik op landen in de lijst hierboven om ze toe te voegen aan je Top 5.</div>';
                document.getElementById('dragInstructions').classList.add('hidden');
                return;
            }
            
            document.getElementById('dragInstructions').classList.remove('hidden');
            
            // Haal huidige elementen op om volgorde te behouden
            const currentElements = Array.from(container.querySelectorAll('.selected-entry'));
            const currentIds = currentElements.map(el => parseInt(el.getAttribute('data-participant-id')));
            
            // Sorteer de geselecteerde entries op basis van de huidige DOM volgorde
            const sortedEntries = [];
            
            // Eerst voeg bestaande items toe in de juiste volgorde
            currentIds.forEach(id => {
                const entry = selectedEntries.find(e => e.id === id);
                if (entry) {
                    sortedEntries.push(entry);
                }
            });
            
            // Voeg nieuwe items toe aan het einde
            selectedEntries.forEach(entry => {
                if (!currentIds.includes(entry.id)) {
                    sortedEntries.push(entry);
                }
            });
            
            selectedEntries = sortedEntries;
            
            // Wis de container en vul opnieuw
            container.innerHTML = '';
            
            selectedEntries.forEach((entry, index) => {
                const entryElement = document.createElement('div');
                entryElement.className = 'selected-entry';
                entryElement.setAttribute('data-participant-id', entry.id);
                
                entryElement.innerHTML = `
                    <div>
                        <strong>${index + 1}. ${entry.flag} ${entry.country}</strong> - ${entry.artist} (${entry.song})
                    </div>
                    <button type="button" class="btn btn-sm btn-danger remove-entry" data-participant-id="${entry.id}">
                        <i class="bi bi-x"></i> Verwijderen
                    </button>
                `;
                
                container.appendChild(entryElement);
            });
            
            // Voeg event listeners toe aan verwijderknoppen
            const removeButtons = container.querySelectorAll('.remove-entry');
            removeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const participantId = parseInt(this.getAttribute('data-participant-id'));
                    selectedEntries = selectedEntries.filter(entry => entry.id !== participantId);
                    updateSelectedEntries();
                });
            });
        }

        // Update resultaten tabel
        function updateResults() {
            if (predictions.length === 0) {
                document.getElementById('resultsTableBody').innerHTML = '<tr><td colspan="5" class="text-center">Nog geen voorspellingen ingediend.</td></tr>';
                document.getElementById('allPredictions').innerHTML = '<div class="alert alert-info">Er zijn nog geen voorspellingen ingediend.</div>';
                return;
            }
            
            // Bereken punten voor elk land
            const countryPoints = {};
            participants.forEach(p => {
                countryPoints[p.country] = 0;
            });
            
            // Puntentelling: 12, 10, 8, 6, 4 punten
            const pointsScale = [12, 10, 8, 6, 4];
            
            predictions.forEach(prediction => {
                prediction.entries.forEach((entry, index) => {
                    countryPoints[entry.country] += pointsScale[index];
                });
            });
            
            // Sorteer landen op punten
            const sortedCountries = Object.entries(countryPoints)
                .filter(([_, points]) => points > 0)
                .sort((a, b) => b[1] - a[1])
                .map(([country, points]) => {
                    const participantInfo = participants.find(p => p.country === country);
                    return {
                        country,
                        flag: participantInfo.flag,
                        points,
                        artist: participantInfo.artist,
                        song: participantInfo.song
                    };
                });
            
            // Vul de resultaten tabel
            const tableBody = document.getElementById('resultsTableBody');
            tableBody.innerHTML = '';
            
            if (sortedCountries.length === 0) {
                tableBody.innerHTML = '<tr><td colspan="5" class="text-center">Nog geen punten toegekend.</td></tr>';
            } else {
                sortedCountries.forEach((result, index) => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td><strong>${index + 1}</strong></td>
                        <td>${result.flag} ${result.country}</td>
                        <td>${result.artist}</td>
                        <td>${result.song}</td>
                        <td><strong>${result.points}</strong></td>
                    `;
                    tableBody.appendChild(row);
                });
            }
            
            // Toon alle voorspellingen
            const predictionsContainer = document.getElementById('allPredictions');
            predictionsContainer.innerHTML = '';
            
            predictions.forEach(prediction => {
                const predCard = document.createElement('div');
                predCard.className = 'card mb-3';
                
                let entriesHtml = '';
                prediction.entries.forEach((entry, index) => {
                    entriesHtml += `
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <span>${index + 1}. ${entry.flag} ${entry.country} - ${entry.artist}</span>
                            <span class="badge bg-primary rounded-pill">${pointsScale[index]} ptn</span>
                        </li>
                    `;
                });
                
                predCard.innerHTML = `
                    <div class="card-header">
                        <strong>${prediction.name}</strong>
                    </div>
                    <ul class="list-group list-group-flush">
                        ${entriesHtml}
                    </ul>
                `;
                
                predictionsContainer.appendChild(predCard);
            });
        }

        // Opslaan in localStorage
        function saveToLocalStorage() {
            localStorage.setItem('eurovisionPredictions', JSON.stringify(predictions));
        }

        // Laden uit localStorage
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('eurovisionPredictions');
            if (saved) {
                predictions = JSON.parse(saved);
            }
        }

        // Exporteren naar CSV
        function exportToCSV() {
            if (predictions.length === 0) {
                alert('Er zijn nog geen voorspellingen om te exporteren.');
                return;
            }
            
            let csvContent = "data:text/csv;charset=utf-8,";
            csvContent += "Naam,1e plaats,2e plaats,3e plaats,4e plaats,5e plaats\n";
            
            predictions.forEach(prediction => {
                let row = `${prediction.name}`;
                
                // Voeg de 5 landen toe
                for (let i = 0; i < 5; i++) {
                    const entry = prediction.entries[i];
                    row += `,${entry ? entry.country : ""}`;
                }
                
                csvContent += row + "\n";
            });
            
            // CreÃ«er een downloadbare link
            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "eurovision_pronostiek.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
